{"version":3,"sources":["webpack:///src/views/userAdmin/amendPetition.vue","webpack:///./src/views/userAdmin/amendPetition.vue?3926","webpack:///./src/views/userAdmin/amendPetition.vue"],"names":["amendPetition","_this","this","input","startTime","startTimeC","endTime","endTimeC","page","rowNum","startT","endT","message","rows","total","userApplyList","ctime","val","getApplyList","getApplyHistory","_this2","id","_this3","then","row","_this4","_this5","select1","input1","startT1","endT1","data","userHistoryList","resetFields","_ref","userAdmin_amendPetition","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","_v","_s","$t","staticStyle","padding-bottom","span","ref","inline","model","applyList","label","type","placeholder","value","callback","$$v","$set","expression","slot","select","on","click","handleReset","directives","name","rawName","width","row-class-name","tableRowClassName","prop","scopedSlots","_u","key","fn","scope","size","calss","$event","open2","$index","open3","applyTotal","background","layout","current-change","handleApply","applyListHistory","handleReset1","historyTotal","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/11.ef0c24a0f2d9379ee0e8.js","sourcesContent":["<template>\r\n  <div id=\"apply\">\r\n    <section>\r\n      <span class=\"title\">{{$t('modification.modification')}}</span>\r\n      <el-col :span=\"24\" style=\"padding-bottom: 0px\" class=\"toolbar\">\r\n        <el-form :inline=\"true\" :model=\"applyList\" ref=\"applyList\">\r\n            <el-form-item :label=\"$t('userList.register[0]')\">\r\n                <el-date-picker type=\"date\" :placeholder=\"$t('userList.register[1]')\" v-model=\"applyList.startTime\"></el-date-picker>              \r\n            </el-form-item>\r\n            <el-form-item :label=\"$t('userList.register[2]')\">\r\n                <el-date-picker type=\"date\" :placeholder=\"$t('userList.register[3]')\" v-model=\"applyList.endTime\"></el-date-picker>\r\n            </el-form-item>\r\n            <!-- <el-form-item>\r\n                <el-input v-model=\"userForm.enterpriseName\" :placeholder=\"$t('userList.register[4]')\"></el-input>\r\n            </el-form-item> -->\r\n            <el-form-item>\r\n                <el-input :placeholder=\"$t('pleaseEnter')\" v-model=\"input\" class=\"input-with-select\">\r\n                  <el-select v-model=\"select\" slot=\"prepend\" :placeholder=\"$t('Pchoose')\">\r\n                     <el-option label=\"UID\" value=\"uid\"></el-option>\r\n                     <!-- <el-option :label=\"$t('phone')\" value=\"phoneNumber\"></el-option> -->\r\n                     <!-- <el-option :label=\"$t('userName')\" value=\"username\"></el-option>  -->\r\n                  </el-select> \r\n                </el-input>\r\n                <!-- <el-input v-model=\"userForm.username\" :placeholder=\"$t('userList.register[4]')\"></el-input> -->\r\n            </el-form-item>\r\n            <el-form-item>\r\n                 <el-button class=\"warning\" v-on:click=\"getApplyList\">{{$t('userList.register[5]')}}</el-button>\r\n            </el-form-item>\r\n            <el-form-item>\r\n                 <el-button class=\"info\" v-on:click=\"handleReset\">{{$t('userList.register[6]')}}</el-button>                 \r\n            </el-form-item>\r\n        </el-form>\r\n      </el-col>\r\n\r\n      <el-table :data=\"userApplyList\" v-loading=\"ApplyLoading\" style=\"width: 100%;\" :row-class-name=\"tableRowClassName\">\r\n           <el-table-column prop=\"id\" :label=\"$t('modification.tableHead[0]')\"\r\n           width=\"175\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"uid\" :label=\"$t('modification.tableHead[1]')\"\r\n            width=\"175\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"changeType\" :label=\"$t('modification.tableHead[2]')\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"oldInfo\" :label=\"$t('modification.tableHead[3]')\" width=\"275\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"newInfo\" :label=\"$t('modification.tableHead[4]')\" width=\"275\">\r\n            </el-table-column>\r\n            <!-- <el-table-column prop=\"phoneNumber\" :label=\"$t('modification.tableHead[5]')\">\r\n            </el-table-column> -->\r\n            <el-table-column prop=\"ctime\" :label=\"$t('modification.tableHead[6]')\" width=\"260\">\r\n            </el-table-column>      \r\n            <el-table-column :label=\"$t('modification.tableHead[7]')\" width=\"160\">\r\n                <template slot-scope=\"scope\">\r\n                  <!-- <el-button size=\"mini\" calss=\"tableBtn\" @click=\"approveApply(scope.$index,scope.row)\">{{$t('pass')}}</el-button> -->\r\n                  <el-button size=\"mini\" calss=\"tableBtn\" @click=\"open2(scope.$index,scope.row)\">{{$t('pass')}}</el-button>\r\n                  <!-- <el-button size=\"mini\" @click=\"rejectApply(scope.$index,scope.row)\">{{$t('refuse')}}</el-button> -->\r\n                  <el-button size=\"mini\" @click=\"open3(scope.$index,scope.row)\">{{$t('refuse')}}</el-button>\r\n                </template>\r\n            </el-table-column>\r\n      </el-table>\r\n\r\n      <!-- <div class=\"page\" v-show=\"userApplyList.length!=0\"> -->\r\n      <div class=\"page\" v-show=\"applyTotal>10\">\r\n        <el-col :span=\"24\" class=\"toolbar  \">\r\n           <el-pagination background  layout=\"prev, pager, next\" :total=\"applyTotal\" @current-change=\"handleApply(1)\">\r\n          </el-pagination>\r\n        </el-col>\r\n      </div>\r\n\r\n   </section>\r\n   <section>\r\n      <span class=\"title\">{{$t('modification. record')}}</span>\r\n      \r\n <el-col :span=\"24\" style=\"padding-bottom: 0px\" class=\"toolbar\">\r\n        <el-form :inline=\"true\" :model=\"applyListHistory\" ref=\"applyListHistory\">\r\n            <el-form-item :label=\"$t('userList.register[0]')\">\r\n                <el-date-picker type=\"date\" :placeholder=\"$t('userList.register[1]')\" v-model=\"applyListHistory.startTime\"></el-date-picker>              \r\n            </el-form-item>\r\n            <el-form-item :label=\"$t('userList.register[2]')\">\r\n                <el-date-picker type=\"date\" :placeholder=\"$t('userList.register[3]')\" v-model=\"applyListHistory.endTime\"></el-date-picker>\r\n            </el-form-item>\r\n            <!-- <el-form-item>\r\n                <el-input v-model=\"userForm.enterpriseName\" :placeholder=\"$t('userList.register[4]')\"></el-input>\r\n            </el-form-item> -->\r\n            <el-form-item>\r\n                <el-input :placeholder=\"$t('pleaseEnter')\" v-model=\"input1\" class=\"input-with-select\">\r\n                  <el-select v-model=\"select1\" slot=\"prepend\" :placeholder=\"$t('Pchoose')\">\r\n                     <el-option label=\"UID\" value=\"uid\"></el-option>\r\n                     <!-- <el-option :label=\"$t('phone')\" value=\"phoneNumber\"></el-option> -->\r\n                     <!-- <el-option :label=\"$t('userName')\" value=\"username\"></el-option>  -->\r\n                  </el-select> \r\n                </el-input>\r\n                <!-- <el-input v-model=\"userForm.username\" :placeholder=\"$t('userList.register[4]')\"></el-input> -->\r\n            </el-form-item>\r\n            <el-form-item>\r\n                 <el-button class=\"warning\" @click=\"getApplyHistory\">{{$t('userList.register[5]')}}</el-button>\r\n            </el-form-item>\r\n            <el-form-item>\r\n                 <el-button class=\"info\" v-on:click=\"handleReset1\">{{$t('userList.register[6]')}}</el-button>                 \r\n            </el-form-item>\r\n        </el-form>\r\n      </el-col>\r\n\r\n\r\n\r\n\r\n\r\n      <el-table :data=\"userHistoryList\"   v-loading=\"RecordLoading\" style=\"width: 100%;\" :row-class-name=\"tableRowClassName\" >\r\n           <el-table-column prop=\"id\"  :label=\"$t('modification.tableHead[0]')\" width=\"175\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"uid\" :label=\"$t('modification.tableHead[1]')\" width=\"175\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"changeType\"  :label=\"$t('modification.tableHead[2]')\" >\r\n            </el-table-column>\r\n            <el-table-column prop=\"oldInfo\"  :label=\"$t('modification.tableHead[3]')\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"newInfo\" :label=\"$t('modification.tableHead[4]')\">\r\n            </el-table-column>\r\n            <!-- <el-table-column prop=\"phoneNumber\"  :label=\"$t('modification.tableHead[5]')\">\r\n            </el-table-column> -->\r\n            <el-table-column prop=\"ctime\" :label=\"$t('modification.tableHead[6]')\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"applyStatus\"  :label=\"$t('modification.tableHead[7]')\">\r\n            </el-table-column>\r\n      </el-table>\r\n\r\n      <!-- <div class=\"page\" v-show=\"userHistoryList.length != 0\" > -->\r\n      <div class=\"page\" v-show=\"historyTotal>10\" >\r\n        <el-col :span=\"24\" class=\"toolbar  \">\r\n           <el-pagination background layout=\"prev, pager, next\" :total=\"historyTotal\" @current-change=\"handleApply\">\r\n           </el-pagination>\r\n        </el-col>\r\n      </div>\r\n\r\n   </section>\r\n  </div> \r\n</template>\r\n   \r\n<script>\r\nimport {ajax,dateStr2GmtTimeStamp,getDataYear,dateStrSecond} from '../../common/js/common.js'\r\nexport default {\r\n   data(){\r\n     return{\r\n       input:\"\",\r\n       select:\"\",\r\n       startT:\"\",\r\n       endT:\"\",\r\n       input1:\"\",\r\n       select1:\"\",\r\n       startT1:\"\",\r\n       endT1:\"\",\r\n       ApplyLoading:false,\r\n       RecordLoading:false,\r\n       userHistoryList:[],\r\n       userApplyList:[],\r\n       applyTotal:0,\r\n       historyTotal:0,\r\n       applyList:{\r\n         startTime:'',\r\n         endTime:'',\r\n         page:1,\r\n         rowNum:10 \r\n       },\r\n       applyListHistory:{\r\n         startTime:'',\r\n         endTime:'',\r\n         page:1,\r\n         rowNum:10 \r\n       },\r\n       id:\"\",\r\n       historyList:{\r\n          page:1,\r\n          rowNum:\"10\" , \r\n       }\r\n     }\r\n   },\r\n   methods:{\r\n    /**\r\n     * [getUsers description]\r\n     *  获取修改申请列表\r\n     * -------------------------\r\n     * @return {[type]} [description]\r\n     */\r\n     getApplyList:function(){\r\n        if(this.select != \"\"){\r\n           this.applyList[this.select] = this.input;\r\n        }\r\n        if(this.applyList.startTime != \"\"){\r\n          //  this.applyList.startTime = dateStr2GmtTimeStamp(this.applyList.startTime);\r\n          let startTimeC = dateStr2GmtTimeStamp(this.applyList.startTime);\r\n\r\n           this.startT = dateStrSecond(startTimeC)\r\n         }\r\n         if(this.applyList.endTime != \"\"){\r\n          //  this.applyList.endTime = dateStr2GmtTimeStamp(this.applyList.endTime);\r\n          let  endTimeC = dateStr2GmtTimeStamp(this.applyList.endTime);\r\n           this.endT = dateStrSecond(endTimeC)\r\n\r\n         }\r\n        this.ApplyLoading = true;\r\n\r\n        let  data = {\r\n          page:this.applyList.page,\r\n          rowNum:this.applyList.rowNum,\r\n          uid:\"\",\r\n          phoneNumber:\"\",\r\n          startTime:this.startT,\r\n          endTime:this.endT,\r\n        \r\n         }\r\n          if(this.select==\"uid\"){\r\n          data.uid = this.input;\r\n         }else if(this.select==\"phoneNumber\"){\r\n          data.phoneNumber = this.input;\r\n         }\r\n\r\n        ajax(this,this.ApiConfig.userManagement.queryApplyInfo,data,(res)=>{\r\n          // console.log(\"res:\",res)\r\n              if(res.code==200){\r\n                 this.userApplyList = res.data.rows;\r\n                 this.applyTotal =res.data.total;\r\n                 let arr = this.userApplyList;\r\n                 arr.forEach((ele,i,arr)=>{\r\n                      this.userApplyList[i].changeType =  this.userApplyList[i].changeType == 2?\"邮箱\":\"手机\";\r\n                      this.userApplyList[i].ctime =  getDataYear('Y-M-D h:m:s',arr[i].ctime);\r\n                 });\r\n                 this.startT = \"\";\r\n                 this.endT = \"\";\r\n                 this.ApplyLoading = false;\r\n              }else {\r\n                 this.$notify({\r\n                     title:'提示',\r\n                     message:res.message,\r\n                     type:'warning'\r\n                 })\r\n                 return false;\r\n              }\r\n        },'POST')\r\n     },\r\n     /**\r\n      * [handleApply description]\r\n      *  分页选择\r\n      *  --------------------------------\r\n      * @param  {[type]} val [description] 当前指定页\r\n      * @return {[type]}     [description]\r\n      */\r\n     handleApply:function(val,num){\r\n       if(num ===1){\r\n          this.applyList.page = val;\r\n         this.getApplyList();\r\n       }else{\r\n          this.applyListHistory.page = val;\r\n           this.getApplyHistory();\r\n       }\r\n        \r\n        \r\n     },\r\n     /**\r\n      * [approveApply description]\r\n      * 同意前台用户的申请\r\n      * ---------------------------------\r\n      * @param  {[type]} row [description]  当前行信息\r\n      * @return {[type]}     [description]\r\n      */\r\n      approveApply:function(index,row){\r\n          let  para = {\r\n            id:row.id\r\n          }\r\n          ajax(this,this.ApiConfig.userManagement.approveApply,para,(res) => {\r\n              if(res.code == 200){\r\n                  this.getApplyList();\r\n                  this.getApplyHistory();\r\n                  this.$notify({\r\n                     title:'成功',\r\n                     message:res.message,\r\n                     type:'success'\r\n                  })\r\n              }else {\r\n                   this.$notify.error({\r\n                      title:'错误',\r\n                      message:res.message\r\n                   })\r\n                   return  false;\r\n              }\r\n          },\"POST\")\r\n      },\r\n\r\n      open2:function(index,row) {\r\n              this.$confirm('此操作将通过用的申请, 是否继续?', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n              }).then(() => {\r\n                this.$message({\r\n                  type: 'success',\r\n                  message: '通过申请!'\r\n                });\r\n                this.approveApply(index,row);\r\n              }).catch(() => {\r\n                this.$message({\r\n                  type: 'info',\r\n                  message: '拒绝申请'\r\n                });          \r\n              });\r\n            },\r\n\r\n      // 拒绝用户修改信息申请\r\n      rejectApply:function(index,row){\r\n        let para = {\r\n          id:row.id\r\n        }\r\n        ajax(this,this.ApiConfig.userManagement.rejectApply,para,(res) => {\r\n           if(res.code == 200){\r\n                  this.getApplyList();\r\n                  this.getApplyHistory();\r\n                  this.$notify({\r\n                     title:'成功',\r\n                     message:res.message,\r\n                     type:'success'\r\n                  })\r\n              }else {\r\n                   this.$notify.error({\r\n                      title:'错误',\r\n                      message:res.message\r\n                   })\r\n                   return false;\r\n              }\r\n          // console.log(res)\r\n        },\"POST\")\r\n      },\r\n       open3(index,row) {\r\n        this.$confirm('此操作将拒绝用户修改信息, 是否继续?', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }).then(() => {\r\n          this.$message({\r\n            type: 'success',\r\n            message: '拒绝修改!'\r\n          });\r\n          this.rejectApply(index,row);\r\n        }).catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '没有操作'\r\n          });          \r\n        });\r\n      },\r\n      //获取修改记录列表\r\n     getApplyHistory:function(){\r\n\r\nif(this.select1 != \"\"){\r\n           this.applyListHistory[this.select1] = this.input1;\r\n        }\r\n        if(this.applyListHistory.startTime != \"\"){\r\n          //  this.applyListHistory.startTime = dateStr2GmtTimeStamp(this.applyListHistory.startTime);\r\n          let startTimeC = dateStr2GmtTimeStamp(this.applyListHistory.startTime);\r\n\r\n           this.startT1 = dateStrSecond(startTimeC)\r\n         }\r\n         if(this.applyListHistory.endTime != \"\"){\r\n          //  this.applyListHistory.endTime = dateStr2GmtTimeStamp(this.applyListHistory.endTime);\r\n          let  endTimeC = dateStr2GmtTimeStamp(this.applyListHistory.endTime);\r\n           this.endT1 = dateStrSecond(endTimeC)\r\n\r\n         }\r\n\r\n       let  data ={\r\n         page:this.applyListHistory.page,\r\n         rowNum:this.applyListHistory.rowNum,\r\n         uid:\"\",\r\n         phoneNumber:\"\",\r\n         startTime: this.startT1 ,\r\n         endTime:this.endT1\r\n       }\r\n        if(this.select1==\"uid\"){\r\n          data.uid = this.input1;\r\n         }else if(this.select1==\"phoneNumber\"){\r\n          data.phoneNumber = this.input1;\r\n         }\r\n      console.log(\"修改记录:\",data)\r\n      ajax(this,this.ApiConfig.userManagement.queryApplyHistory,data,(res) => {\r\n        // console.log(res)\r\n        this.userHistoryList = res.data.rows\r\n        this.historyTotal =res.data.total;\r\n           let arr = this.userHistoryList;\r\n                 arr.forEach((ele,i,arr)=>{\r\n                      this.userHistoryList[i].changeType =  this.userHistoryList[i].changeType == 2?\"邮箱\":\"手机\";\r\n                      this.userHistoryList[i].applyStatus =  this.userHistoryList[i].applyStatus == 1?\"待审核\":this.userHistoryList[i].applyStatus == 2?\"已通过\" : \"已拒绝\";\r\n                      this.userHistoryList[i].ctime =  getDataYear('Y-M-D h:m:s',arr[i].ctime);\r\n                 });\r\n            this.startT1 = \"\";\r\n            this.endT1 = \"\";\r\n\r\n      },\"POST\")\r\n     },\r\n\r\n\r\n      //重置筛选\r\n     handleReset:function(){\r\n        this.$refs.applyList.resetFields();\r\n        this.applyList.startTime=\"\";\r\n        this.applyList.endTime=\"\";\r\n        this.applyList.page=\"1\";\r\n        this.applyList.rowNum=\"10\";\r\n        this.select=\"\";\r\n        this.input =\"\";\r\n        this.getApplyList();\r\n\r\n     },\r\n     handleReset1:function(){\r\n        this.$refs.applyListHistory.resetFields();\r\n        this.applyListHistory.startTime=\"\";\r\n        this.applyListHistory.endTime=\"\";\r\n        this.applyListHistory.page=\"1\";\r\n        this.applyListHistory.rowNum=\"10\";\r\n        this.select1=\"\";\r\n        this.input1 =\"\";\r\n        this.getApplyHistory();\r\n\r\n     },\r\n\r\n     tableRowClassName:function({row, rowIndex}){\r\n         if(rowIndex % 2 == 1){\r\n            return \"success-row\"\r\n         }\r\n     },\r\n    /* //获取表格中的数据信息\r\n     getUserInfo:function(row){\r\n        console.log(row)\r\n        this.id = row.id;\r\n        },*/\r\n\r\n\r\n   },\r\n   mounted(){\r\n    this.getApplyList();\r\n    this.getApplyHistory();\r\n   }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"postcss\">\r\n\r\n\r\n</style>\r\n<style>\r\n#apply{\r\n  .el-select .el-input {\r\n    width: 105px;\r\n  }\r\n  .el-button {\r\n       padding: 8px 10px;\r\n    }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/userAdmin/amendPetition.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"apply\"}},[_c('section',[_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.$t('modification.modification')))]),_vm._v(\" \"),_c('el-col',{staticClass:\"toolbar\",staticStyle:{\"padding-bottom\":\"0px\"},attrs:{\"span\":24}},[_c('el-form',{ref:\"applyList\",attrs:{\"inline\":true,\"model\":_vm.applyList}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('userList.register[0]')}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":_vm.$t('userList.register[1]')},model:{value:(_vm.applyList.startTime),callback:function ($$v) {_vm.$set(_vm.applyList, \"startTime\", $$v)},expression:\"applyList.startTime\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.$t('userList.register[2]')}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":_vm.$t('userList.register[3]')},model:{value:(_vm.applyList.endTime),callback:function ($$v) {_vm.$set(_vm.applyList, \"endTime\", $$v)},expression:\"applyList.endTime\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":_vm.$t('pleaseEnter')},model:{value:(_vm.input),callback:function ($$v) {_vm.input=$$v},expression:\"input\"}},[_c('el-select',{attrs:{\"slot\":\"prepend\",\"placeholder\":_vm.$t('Pchoose')},slot:\"prepend\",model:{value:(_vm.select),callback:function ($$v) {_vm.select=$$v},expression:\"select\"}},[_c('el-option',{attrs:{\"label\":\"UID\",\"value\":\"uid\"}})],1)],1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{staticClass:\"warning\",on:{\"click\":_vm.getApplyList}},[_vm._v(_vm._s(_vm.$t('userList.register[5]')))])],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{staticClass:\"info\",on:{\"click\":_vm.handleReset}},[_vm._v(_vm._s(_vm.$t('userList.register[6]')))])],1)],1)],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.ApplyLoading),expression:\"ApplyLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.userApplyList,\"row-class-name\":_vm.tableRowClassName}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":_vm.$t('modification.tableHead[0]'),\"width\":\"175\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"uid\",\"label\":_vm.$t('modification.tableHead[1]'),\"width\":\"175\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"changeType\",\"label\":_vm.$t('modification.tableHead[2]')}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"oldInfo\",\"label\":_vm.$t('modification.tableHead[3]'),\"width\":\"275\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"newInfo\",\"label\":_vm.$t('modification.tableHead[4]'),\"width\":\"275\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ctime\",\"label\":_vm.$t('modification.tableHead[6]'),\"width\":\"260\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":_vm.$t('modification.tableHead[7]'),\"width\":\"160\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"calss\":\"tableBtn\"},on:{\"click\":function($event){_vm.open2(scope.$index,scope.row)}}},[_vm._v(_vm._s(_vm.$t('pass')))]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.open3(scope.$index,scope.row)}}},[_vm._v(_vm._s(_vm.$t('refuse')))])]}}])})],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.applyTotal>10),expression:\"applyTotal>10\"}],staticClass:\"page\"},[_c('el-col',{staticClass:\"toolbar  \",attrs:{\"span\":24}},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":_vm.applyTotal},on:{\"current-change\":function($event){_vm.handleApply(1)}}})],1)],1)],1),_vm._v(\" \"),_c('section',[_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.$t('modification. record')))]),_vm._v(\" \"),_c('el-col',{staticClass:\"toolbar\",staticStyle:{\"padding-bottom\":\"0px\"},attrs:{\"span\":24}},[_c('el-form',{ref:\"applyListHistory\",attrs:{\"inline\":true,\"model\":_vm.applyListHistory}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('userList.register[0]')}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":_vm.$t('userList.register[1]')},model:{value:(_vm.applyListHistory.startTime),callback:function ($$v) {_vm.$set(_vm.applyListHistory, \"startTime\", $$v)},expression:\"applyListHistory.startTime\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.$t('userList.register[2]')}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":_vm.$t('userList.register[3]')},model:{value:(_vm.applyListHistory.endTime),callback:function ($$v) {_vm.$set(_vm.applyListHistory, \"endTime\", $$v)},expression:\"applyListHistory.endTime\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":_vm.$t('pleaseEnter')},model:{value:(_vm.input1),callback:function ($$v) {_vm.input1=$$v},expression:\"input1\"}},[_c('el-select',{attrs:{\"slot\":\"prepend\",\"placeholder\":_vm.$t('Pchoose')},slot:\"prepend\",model:{value:(_vm.select1),callback:function ($$v) {_vm.select1=$$v},expression:\"select1\"}},[_c('el-option',{attrs:{\"label\":\"UID\",\"value\":\"uid\"}})],1)],1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{staticClass:\"warning\",on:{\"click\":_vm.getApplyHistory}},[_vm._v(_vm._s(_vm.$t('userList.register[5]')))])],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{staticClass:\"info\",on:{\"click\":_vm.handleReset1}},[_vm._v(_vm._s(_vm.$t('userList.register[6]')))])],1)],1)],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.RecordLoading),expression:\"RecordLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.userHistoryList,\"row-class-name\":_vm.tableRowClassName}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":_vm.$t('modification.tableHead[0]'),\"width\":\"175\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"uid\",\"label\":_vm.$t('modification.tableHead[1]'),\"width\":\"175\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"changeType\",\"label\":_vm.$t('modification.tableHead[2]')}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"oldInfo\",\"label\":_vm.$t('modification.tableHead[3]')}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"newInfo\",\"label\":_vm.$t('modification.tableHead[4]')}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ctime\",\"label\":_vm.$t('modification.tableHead[6]')}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"applyStatus\",\"label\":_vm.$t('modification.tableHead[7]')}})],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.historyTotal>10),expression:\"historyTotal>10\"}],staticClass:\"page\"},[_c('el-col',{staticClass:\"toolbar  \",attrs:{\"span\":24}},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":_vm.historyTotal},on:{\"current-change\":_vm.handleApply}})],1)],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-24a98fde\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/userAdmin/amendPetition.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-24a98fde\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./amendPetition.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-24a98fde\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./amendPetition.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./amendPetition.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./amendPetition.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-24a98fde\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./amendPetition.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-24a98fde\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/userAdmin/amendPetition.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}